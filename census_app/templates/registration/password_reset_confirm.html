{% extends 'base.html' %}
{% load i18n %}
{% block title %}{% trans "Choose a new password" %} - {{ brand.title }}{% endblock %}

{% block head_theme_overrides %}
<style>
  /* Force password help text to wrap within card boundaries */
  .form-control .helptext,
  .form-control .helptext ul,
  .label .helptext,
  .label .helptext ul,
  .label-text-alt {
    white-space: normal !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    max-width: 100% !important;
  }
  .form-control .helptext ul li,
  .label .helptext ul li {
    white-space: normal !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }
</style>
{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto">
  <div class="card bg-base-100 shadow">
    <div class="card-body">
      <h1 class="card-title">{% trans "Choose a new password" %}</h1>
      {% if validlink %}
        <form method="post" class="space-y-4">
          {% csrf_token %}
          {% include "components/form_errors.html" with form=form %}
          <div class="grid gap-3">
            {% include "components/render_form_fields.html" with form=form %}
          </div>
          <button type="submit" class="btn btn-primary w-full">{% trans "Reset password" %}</button>
        </form>
      {% else %}
        <div class="alert alert-error">{% trans "This password reset link is invalid or has expired." %}</div>
        <a href="{% url 'password_reset' %}" class="btn btn-ghost mt-3">{% trans "Request a new link" %}</a>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
