@tailwind base;
@tailwind components;
@tailwind utilities;

/* Safari needs registered custom properties for DaisyUI radial progress animations. */
@property --value {
  syntax: "<number>";
  inherits: false;
  initial-value: 0;
}

@property --radialprogress {
  syntax: "<percentage>";
  inherits: false;
  initial-value: 0%;
}

@layer base {
  :root:where([data-theme="census"]),
  :where([data-theme="census-light"]) {
    color-scheme: light;

    /* Colors */
    --p: #6d5aa5;
    --pc: oklch(98% 0.002 247.839);
    --s: oklch(59% 0.145 163.225);
    --sc: oklch(98% 0.003 247.858);
    --a: oklch(71% 0.143 215.221);
    --ac: oklch(98% 0.003 247.858);
    --n: oklch(45% 0.085 224.283);
    --nc: oklch(98% 0 0);
    --b1: oklch(98% 0 0);
    --b2: oklch(96% 0.001 286.375);
    --b3: oklch(92% 0.004 286.32);
    --bc: oklch(21% 0.006 285.885);
    --in: #C9D6EA;
    --inc: oklch(98% 0.019 200.873);
    --su: oklch(60% 0.118 184.704);
    --suc: oklch(98% 0.031 120.757);
    --wa: oklch(66% 0.179 58.318);
    --wac: oklch(98% 0.022 95.277);
    --er: oklch(58% 0.253 17.585);
    --erc: oklch(96% 0.015 12.422);

    /* Spacing & Radii */
    --rounded-selector: 0.25rem;
    --rounded-field: 0.25rem;
    --rounded-box: 0.25rem;
    --size-selector: 0.25rem;
    --size-field: 0.28125rem;
    --border: 1px;

    /* Other */
    --depth: 0;
    --noise: 0;

    /* Aliases for custom CSS */
    --color-primary: var(--p);
    --color-primary-content: var(--pc);
    --color-secondary: var(--s);
    --color-secondary-content: var(--sc);
    --color-accent: var(--a);
    --color-accent-content: var(--ac);
    --color-neutral: var(--n);
    --color-neutral-content: var(--nc);
    --color-base-100: var(--b1);
    --color-base-200: var(--b2);
    --color-base-300: var(--b3);
    --color-base-content: var(--bc);
    --color-info: var(--in);
    --color-info-content: var(--inc);
    --color-success: var(--su);
    --color-success-content: var(--suc);
    --color-warning: var(--wa);
    --color-warning-content: var(--wac);
    --color-error: var(--er);
    --color-error-content: var(--erc);
  }

:root:where([data-theme="census-dark"]) {
    color-scheme: dark;

    /* Colors */
    --p: #6d5aa5;
    --pc: oklch(98% 0.002 247.839);
    --s: oklch(59% 0.145 163.225);
    --sc: oklch(98% 0.003 247.858);
    --a: oklch(71% 0.143 215.221);
    --ac: oklch(98% 0.003 247.858);
    --n: oklch(52% 0.105 223.128);
    --nc: oklch(98% 0 0);
    --b1: oklch(55% 0.046 257.417);
    --b2: oklch(37% 0.034 259.733);
    --b3: oklch(37% 0.013 285.805);
    --bc: oklch(96% 0.007 247.896);
    --in: #C9D6EA;
    --inc: oklch(98% 0.019 200.873);
    --su: oklch(60% 0.118 184.704);
    --suc: oklch(98% 0.031 120.757);
    --wa: oklch(66% 0.179 58.318);
    --wac: oklch(98% 0.022 95.277);
    --er: oklch(58% 0.253 17.585);
    --erc: oklch(96% 0.015 12.422);

    /* Spacing & Radii */
    --rounded-selector: 0.25rem;
    --rounded-field: 0.25rem;
    --rounded-box: 0.25rem;
    --size-selector: 0.25rem;
    --size-field: 0.28125rem;
    --border: 1px;

    /* Other */
    --depth: 0;
    --noise: 0;

    /* Aliases for custom CSS */
    --color-primary: var(--p);
    --color-primary-content: var(--pc);
    --color-secondary: var(--s);
    --color-secondary-content: var(--sc);
    --color-accent: var(--a);
    --color-accent-content: var(--ac);
    --color-neutral: var(--n);
    --color-neutral-content: var(--nc);
    --color-base-100: var(--b1);
    --color-base-200: var(--b2);
    --color-base-300: var(--b3);
    --color-base-content: var(--bc);
    --color-info: var(--in);
    --color-info-content: var(--inc);
    --color-success: var(--su);
    --color-success-content: var(--suc);
    --color-warning: var(--wa);
    --color-warning-content: var(--wac);
    --color-error: var(--er);
    --color-error-content: var(--erc);
  }
}

@layer components {
  script[data-question-payload] {
    display: none;
  }

  .builder-question-card,
  .builder-editor-card {
    border: 1px solid color-mix(in oklch, var(--color-base-300) 70%, transparent);
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    transition: border-color 150ms ease, box-shadow 150ms ease,
      background-color 150ms ease;
  }

  .builder-question-card {
    background-color: var(--color-base-200);
    cursor: grab;
  }
  .builder-question-card:active {
    cursor: grabbing;
  }

  .builder-editor-card {
    background-color: var(--color-base-100);
  }

  .builder-question-card:hover,
  .builder-question-card:focus-within {
    background-color: color-mix(in oklch, var(--color-base-200) 70%, var(--color-base-300) 30%);
  }

  .builder-question-card:active,
  .builder-question-card.sortable-chosen,
  .builder-question-card.sortable-ghost {
    background-color: color-mix(in oklch, var(--color-base-200) 55%, var(--color-base-300) 45%);
  }

  .builder-question-card.sortable-ghost {
    opacity: 0.9;
  }

  li.sortable-chosen .builder-question-card,
  li.sortable-ghost .builder-question-card {
    box-shadow: 0 10px 25px -15px rgba(34, 34, 55, 0.45),
      0 8px 12px -12px rgba(34, 34, 55, 0.4);
  }

  .builder-question-card.is-active,
  .builder-editor-card.is-active {
    border-width: 3px;
    border-color: var(--p);
    box-shadow: 0 0 0 1px color-mix(in oklch, var(--p) 35%, transparent);
  }

  .btn.builder-edit-button {
    background-color: var(--color-accent);
    border-color: color-mix(in oklch, var(--color-accent) 70%, transparent);
    color: var(--color-accent-content);
    transition: background-color 150ms ease, border-color 150ms ease,
      color 150ms ease;
  }

  .btn.builder-edit-button:hover {
    background-color: color-mix(in oklch, var(--color-accent) 85%, black 15%);
  }

  .btn.builder-edit-button.is-active {
    background-color: color-mix(in oklch, var(--color-accent) 55%, var(--color-primary) 45%);
    border-color: var(--color-primary);
    color: var(--pc);
  }

  [data-drag-ignore] {
    cursor: pointer;
  }
}

/* stylelint-disable at-rule-no-unknown */
:root {
  --theme-root: ":root";
  --theme-list: "census-light" "census" "census-dark" "light" "dark";
}
/* stylelint-enable at-rule-no-unknown */
