{# Reusable breadcrumbs component (DaisyUI with icons) #}

<nav class="breadcrumbs text-sm">
  <ul>
    {# Pattern 1: items iterable of (label, href) from context #}
    {% if items %}
      {% for item in items %}
        {% with label=item.0 href=item.1 %}
          <li>
            {% if href %}
              <a href="{{ href }}" class="inline-flex items-center gap-1">
                {% if forloop.first %}
                  {% include "components/icons/clipboard.html" %}
                {% elif forloop.last %}
                  {% include "components/icons/document.html" %}
                {% else %}
                  {% include "components/icons/documents.html" %}
                {% endif %}
                <span>{{ label }}</span>
              </a>
            {% else %}
              <span class="inline-flex items-center gap-1">
                {% if forloop.first %}
                  {% include "components/icons/clipboard.html" %}
                {% elif forloop.last %}
                  {% include "components/icons/document.html" %}
                {% else %}
                  {% include "components/icons/documents.html" %}
                {% endif %}
                <span>{{ label }}</span>
              </span>
            {% endif %}
          </li>
        {% endwith %}
      {% endfor %}
    {% else %}
      {# Pattern 2: numbered crumb parameters #}
      {% if crumb1_label %}
        <li>
          <a href="{{ crumb1_href }}" class="inline-flex items-center gap-1">
            {% include "components/icons/clipboard.html" %}
            <span>{{ crumb1_label }}</span>
          </a>
        </li>
      {% endif %}
      {% if crumb2_label %}
        <li>
          {% if crumb2_href %}
            <a href="{{ crumb2_href }}" class="inline-flex items-center gap-1">
              {% include "components/icons/documents.html" %}
              <span>{{ crumb2_label }}</span>
            </a>
          {% else %}
            <span class="inline-flex items-center gap-1">
              {% include "components/icons/documents.html" %}
              <span>{{ crumb2_label }}</span>
            </span>
          {% endif %}
        </li>
      {% endif %}
      {% if crumb3_label %}
        <li>
          {% if crumb3_href %}
            <a href="{{ crumb3_href }}" class="inline-flex items-center gap-1">
              {% include "components/icons/document.html" %}
              <span>{{ crumb3_label }}</span>
            </a>
          {% else %}
            <span class="inline-flex items-center gap-1">
              {% include "components/icons/document.html" %}
              <span>{{ crumb3_label }}</span>
            </span>
          {% endif %}
        </li>
      {% endif %}
      {% if crumb4_label %}
        <li>
          {% if crumb4_href %}
            <a href="{{ crumb4_href }}" class="inline-flex items-center gap-1">
              {% include "components/icons/document.html" %}
              <span>{{ crumb4_label }}</span>
            </a>
          {% else %}
            <span class="inline-flex items-center gap-1">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M16.5 3.75H7.5a1.5 1.5 0 00-1.5 1.5v13.5A1.5 1.5 0 007.5 20.25h9a1.5 1.5 0 001.5-1.5V5.25a1.5 1.5 0 00-1.5-1.5zM9 7.5h6M9 12h6M9 16.5h3"/></svg>
              <span>{{ crumb4_label }}</span>
            </span>
          {% endif %}
        </li>
      {% endif %}
    {% endif %}
  </ul>
</nav>
